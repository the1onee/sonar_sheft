# ูุธุงู ุฅุฏุงุฑุฉ ุงูุดูุชุงุช ูุงูุณููุงุฑุงุช

ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุดูุชุงุช ุงูููุธููู ูุงูุชุจุฏูู ุงูุชููุงุฆู ุจูู ุงูุณููุงุฑุงุช ูุน ุฅุดุนุงุฑุงุช Telegram.

---

## โ๏ธ ุงููุชุทูุจุงุช

- Python 3.8+
- Redis (ููููุงู ุงูุฏูุฑูุฉ)

---

## ๐ฆ ุงูุชุซุจูุช

```bash
# 1. ุชุซุจูุช ุงูููุชุจุงุช ุงููุทููุจุฉ
pip install -r requirements.txt

# 2. ุชุทุจูู migrations
python manage.py migrate

# 3. ุฅูุดุงุก ุญุณุงุจ ูุฏูุฑ (ุฃูู ูุฑุฉ ููุท)
python manage.py createsuperuser
```

---

## โถ๏ธ ุงูุชุดุบูู

ูุญุชุงุฌ ุงููุธุงู ุฅูู **3 ุนูููุงุช ูููุตูุฉ**:

### ุงูุทุฑููุฉ ุงูุฃููู: 3 ููุงูุฐ Terminal

```bash
# Terminal 1: ุชุดุบูู Django
python manage.py runserver 0.0.0.0:8000

# Terminal 2: ุชุดุบูู Celery Worker
celery -A shift_manager worker --loglevel=info --pool=solo

# Terminal 3: ุชุดุบูู Celery Beat (ุงูููุงู ุงูุฏูุฑูุฉ)
celery -A shift_manager beat --loglevel=info
```

### ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุฎูููุฉ (Background)

```bash
# ุชุดุบูู ูู ุนูููุฉ ูู ุงูุฎูููุฉ
python manage.py runserver 0.0.0.0:8000 &
celery -A shift_manager worker --loglevel=info --pool=solo &
celery -A shift_manager beat --loglevel=info &
```

---

## ๐ฏ ุงููููุฒุงุช

### 1๏ธโฃ ูุธุงู ุงูุฃุฏูุงุฑ (4 ุฃููุงุน)
- **Super Admin**: ุฅุฏุงุฑุฉ ูุงููุฉ ูููุธุงู
- **Manager (ูุฏูุฑ)**: ุฅุฏุงุฑุฉ ุงููุดุฑููู ูุงูููุธููู ูุงูุฅุนุฏุงุฏุงุช
- **Supervisor (ูุดุฑู)**: ุชุฃููุฏ ุงูุชุจุฏููุงุช ูุฅุฏุงุฑุฉ ุงูุฅุฌุงุฒุงุช
- **Employee (ููุธู)**: ุชุฃููุฏ ุงูุชุจุฏููุงุช ุงููุฎุตุตุฉ ูู

### 2๏ธโฃ ุงูุชุจุฏูู ุงูุชููุงุฆู
- ุชุจุฏูู ุชููุงุฆู ููููุธููู ุจูู ุงูุณููุงุฑุงุช
- ูุนูู ุญุณุจ ูุชุฑุฉ ูุญุฏุฏุฉ (ุงูุชุฑุงุถู: 3 ุณุงุนุงุช)
- ุชูุฒูุน ุนุงุฏู ููุชุณุงูู ุจูู ุงูููุธููู

### 3๏ธโฃ ูุธุงู ุงูุฅุดุนุงุฑุงุช (Telegram)
- **ุฅุดุนุงุฑ ุฃููู**: ูุจู 30 ุฏูููุฉ ูู ุงูุชุจุฏูู
- **ุชุฐููุฑ ูุชูุฑุฑ**: ูู 10 ุฏูุงุฆู (20ุ 10 ุฏูููุฉ)
- **ุฅุดุนุงุฑ ููุงุฆู**: ุนูุฏ ููุช ุงูุชุจุฏูู

### 4๏ธโฃ ุงูุฑูุถ ุงูุชููุงุฆู ููุชุจุฏููุงุช
- ุฅุฐุง ูู ูุคูุฏ ุงูููุธู ุงูุชุจุฏูู ุฎูุงู ุงููุชุฑุฉ ุงููุญุฏุฏุฉ
- ูุชู ุฑูุถ ุงูุชุจุฏูู ุชููุงุฆูุงู
- ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ููููุธู ูุงููุดุฑููู

### 5๏ธโฃ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช
- ุชูุงุฑูุฑ ููุตูุฉ ุญุณุจ ุงูุดูุช/ุงูููุธู/ุงูุณููุงุฑ
- ุชุตุฏูุฑ ุฅูู Excel ู PDF
- ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ ูู ุงูุชูุงุฑูุฑ

---

## ๐ง ุงูุฅุนุฏุงุฏุงุช

ูููู ุชุฎุตูุต ุงููุธุงู ูู ููุญุฉ ุงูุฅุนุฏุงุฏุงุช:

- **ูุชุฑุฉ ุงูุชุจุฏูู**: ุชุญุฏูุฏ ูู ูู ุณุงุนุฉ ูุชู ุงูุชุจุฏูู
- **ุงูุฅุดุนุงุฑุงุช ุงููุจูุฑุฉ**: ูู ุฏูููุฉ ูุจู ุงูุชุจุฏูู
- **ุชูุนูู/ุฅููุงู ุงูุชุจุฏูู ุงูุชููุงุฆู**

---

## ๐ ุงูููุงู ุงูุฏูุฑูุฉ ุงูุชููุงุฆูุฉ

| ุงููููุฉ | ุงูุชูููุช | ุงููุธููุฉ |
|--------|---------|---------|
| ุงูุชุจุฏูู ุงูุชููุงุฆู | ูู 3 ุณุงุนุงุช (ูุงุจู ููุชุนุฏูู) | ุชุจุฏูู ุงูููุธููู ุจูู ุงูุณููุงุฑุงุช |
| ุงูุฅุดุนุงุฑุงุช ุงููุจูุฑุฉ | ูู ุฏูููุชูู | ุฅุฑุณุงู ุฅุดุนุงุฑุงุช Telegram ููููุธููู |
| ุฑูุถ ุงูุชุจุฏููุงุช ุงูููุชููุฉ | ูู 10 ุฏูุงุฆู | ุฑูุถ ุงูุชุจุฏููุงุช ุบูุฑ ุงููุคูุฏุฉ |

---

## ๐ ุฅุนุฏุงุฏ Telegram Bot

1. ุงูุชุญ ููู `shifts/utils.py`
2. ุบูุฑ ูููุฉ `BOT_TOKEN` ุจุฑูุฒ ุงูุจูุช ุงูุฎุงุต ุจู
3. ุฃุถู `telegram_id` ููู ููุธู ูู ููุญุฉ ุงูุชุญูู

---

## ๐ฑ ุงููุตูู ูููุธุงู

```
http://localhost:8000/
```

- **ุชุณุฌูู ุงูุฏุฎูู**: `/login/`
- **ููุญุฉ ุงูุชุญูู**: ูุชู ุชูุฌููู ุญุณุจ ุฏูุฑู
- **ุงูุฅุนุฏุงุฏุงุช**: ูุชุงุญุฉ ูููุฏูุฑ ููุท

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุงููุธุงู ูุฏุนู ูุงุนุฏุชู ุจูุงูุงุช:

### SQLite (ุงูุชุฑุงุถู)
- ููุงุณุจ ููุชุทููุฑ ูุงูุงุฎุชุจุงุฑ
- ูุง ูุญุชุงุฌ ุฅุนุฏุงุฏ ุฅุถุงูู
- ููู ูุงุญุฏ: `db.sqlite3`

### PostgreSQL (ููุตู ุจู ููุฅูุชุงุฌ)
- ุฃุฏุงุก ุฃูุถู ูุน ุงูุจูุงูุงุช ุงููุจูุฑุฉ
- ุฏุนู ุฃูุถู ููุนูููุงุช ุงููุชุฒุงููุฉ
- ููุงุณุจ ููุฅูุชุงุฌ (Production)

#### ุฅุนุฏุงุฏ PostgreSQL:

```bash
# 1. ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
psql -U postgres
CREATE DATABASE shift_manager_db;
\q

# 2. ุชุนููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
# Windows (PowerShell):
$env:USE_POSTGRESQL="True"
$env:DB_NAME="shift_manager_db"
$env:DB_USER="postgres"
$env:DB_PASSWORD="ูููุฉ_ุงููุฑูุฑ"
$env:DB_HOST="localhost"
$env:DB_PORT="5432"

# Linux/Mac:
export USE_POSTGRESQL=True
export DB_NAME=shift_manager_db
export DB_USER=postgres
export DB_PASSWORD=ูููุฉ_ุงููุฑูุฑ
export DB_HOST=localhost
export DB_PORT=5432

# 3. ุชุทุจูู migrations
python manage.py migrate
```

**ูููุฒูุฏ ูู ุงูุชูุงุตููุ ุฑุงุฌุน ููู `DATABASE_CONFIG.txt`**

---

## ๐ ูุดุฑ ุงูุชุทุจูู (Production)

### ุฎุทูุงุช ุงููุดุฑ ุนูู VPS:

```bash
# 1. ุชุญุฏูุซ ุงูุฅุนุฏุงุฏุงุช ูู settings.py
DEBUG = False
ALLOWED_HOSTS = ['your-domain.com']

# 2. ุชุฌููุน ุงููููุงุช ุงูุซุงุจุชุฉ
python manage.py collectstatic

# 3. ุงุณุชุฎุฏุงู Gunicorn ุจุฏูุงู ูู runserver
pip install gunicorn
gunicorn shift_manager.wsgi:application --bind 0.0.0.0:8000

# 4. ุชุดุบูู Celery ูุฎุฏูุฉ
# ุงุณุชุฎุฏู systemd ุฃู supervisor ูุฅุฏุงุฑุฉ Celery Worker ู Beat
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: Celery ูุง ูุนูู
```bash
# ุชุฃูุฏ ูู ุชุดุบูู Redis
redis-cli ping

# ุชุฃูุฏ ูู ุงูุงุชุตุงู ุจู Redis ูู celery.py
```

### ุงููุดููุฉ: ุงูุฅุดุนุงุฑุงุช ูุง ุชุตู
- ุชุฃูุฏ ูู ุตุญุฉ `BOT_TOKEN` ูู `utils.py`
- ุชุฃูุฏ ูู ุฅุถุงูุฉ `telegram_id` ููููุธููู
- ุชุญูู ูู ุฃู ุงูุจูุช ูุดุท

### ุงููุดููุฉ: ุงูุชุจุฏูู ูุง ูุนูู ุชููุงุฆูุงู
- ุชุฃูุฏ ูู ุชุดุบูู Celery Beat
- ุชุญูู ูู ุชูุนูู ุงูุชุจุฏูู ุงูุชููุงุฆู ูู ุงูุฅุนุฏุงุฏุงุช

---

## ๐ ููุงุญุธุงุช ูููุฉ

โ **ุงููุธุงู ุจุณูุท ูุบูุฑ ูุนูุฏ** - ูู ุงููููุงุช ุงูุถุฑูุฑูุฉ ููุท
โ **ูุง ูุญุชุงุฌ ูููุงุช .bat ุฃู .sh** - ุชุดุบูู ูุจุงุดุฑ ุจุงูุฃูุงูุฑ
โ **ุฌุงูุฒ ููุฅูุชุงุฌ** - ูุนูู ุจุดูู ููุซูู ูุน Redis + Celery

---

## ๐ ุงูุฏุนู

ูู ุญุงู ูุฌูุฏ ูุดุงูู:
1. ุชุญูู ูู ุณุฌูุงุช (logs) Celery Worker ู Beat
2. ุชุญูู ูู ุฅุนุฏุงุฏุงุช Redis
3. ุชุฃูุฏ ูู ุชุทุจูู ุฌููุน Migrations

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ููููู ุงุณุชุฎุฏุงูู ูุชุนุฏููู ุญุณุจ ุงูุญุงุฌุฉ.

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2025

